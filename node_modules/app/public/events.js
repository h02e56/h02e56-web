var Utils = require('app/utils');
var utils = Utils.call(this);

module.exports = function(){
    
    document.addEventListener('click', eventHandler, true);
    
    var actions = {
        'toggle': function(target){
            var el = target.parentNode.lastElementChild
            utils.toggleClass(el, 'hidden')
        }
    }
    
    
    function eventHandler (e) { 
        e.stopPropagation();
        
        var target = e.target,
            action = target.getAttribute('data-action') || null
        
        if (actions[action]) {// has class that fires something
                actions[action](target);  //fire the event sending target
        }
          
    }
}