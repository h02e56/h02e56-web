{
  "name": "tcp-bind",
  "version": "1.1.1",
  "description": "allocate a file descriptor to listen on a port later",
  "main": "index.js",
  "dependencies": {},
  "repository": {
    "type": "git",
    "url": "git://github.com/substack/tcp-bind.git"
  },
  "scripts": {
    "test": "tape test/*.js"
  },
  "devDependencies": {
    "concat-stream": "~1.4.6",
    "tape": "^3.0.0"
  },
  "homepage": "https://github.com/substack/tcp-bind",
  "keywords": [
    "privileges",
    "tcp",
    "sudo",
    "setuid",
    "setgid",
    "port",
    "fd"
  ],
  "author": {
    "name": "James Halliday",
    "email": "mail@substack.net",
    "url": "http://substack.net"
  },
  "license": "MIT",
  "readme": "# tcp-bind\n\nallocate a file descriptor to listen on a port later\n\nThis is handy if you want to run a server on a low port but want to drop\nprivileges as soon as possible.\n\n[![build status](https://secure.travis-ci.org/substack/tcp-bind.png)](http://travis-ci.org/substack/tcp-bind)\n\n# example\n\nHere we allocate a file descriptor for tcp port 80 and then drop permissions\nright away:\n\n``` js\nvar http = require('http');\nvar alloc = require('tcp-bind');\nvar fd = alloc(80);\n\nprocess.setgid(process.argv[3]);\nprocess.setuid(process.argv[2]);\n\nvar server = http.createServer(function (req, res) {\n    res.write('uid=' + process.getuid() + '\\n');\n    res.end('gid=' + process.getgid() + '\\n');\n});\nserver.listen({ fd: fd });\n```\n\nNow we're listening on port 80, but the rest is running under a regular user:\n\n```\n$ sudo node drop.js substack cdrom &\n[1] 2855\n$ curl localhost\nuid=1000\ngid=24\n```\n\n# methods\n\n``` js\nvar alloc = require('tcp-bind')\n```\n\n## var fd = alloc(addr='0.0.0.0', port)\n\nAllocate a file descriptor to listen on `port` at an ipv4 or ipv6 string address\n`addr`.\n\nYou can create a tcp server from the file descriptor `fd` later by passing it to\nthe server's `.listen()` method:\n\n```\nserver.listen({ fd: fd })\n```\n\nThis method throws when the port is already bound and when the current user\ndoesn't have permission to open the port requested.\n\n# install\n\nWith [npm](https://npmjs.org) do:\n\n```\nnpm install tcp-bind\n```\n\n# license\n\nMIT\n",
  "readmeFilename": "readme.markdown",
  "bugs": {
    "url": "https://github.com/substack/tcp-bind/issues"
  },
  "_id": "tcp-bind@1.1.1",
  "_from": "tcp-bind@^1.1.1"
}
